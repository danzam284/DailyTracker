<html>
    <head>
        <link rel="stylesheet" href="/style/homepage.css">
    </head>
    <body>
        <form id="form" action="/water" method="POST" onsubmit="return false;"></form>
        <form id="form2" action="/frog" method="POST" onsubmit="return false;"></form>
        <form id="form3" action="/nutrition" method="POST" onsubmit="return false;"></form>
        <form id="form4" action="/sleep" method="POST" onsubmit="return false;"></form>
        <form id="form5" action="/worry" method="POST" onsubmit="return false;"></form>
        <form id="form6" action="/movement" method="POST" onsubmit="return false"></form>
        <form id="results" action="/team" method="POST" onsubmit="return false;"></form>
        <form id="lol" action="/home" method="POST" onsubmit="return false;"></form>
        <div class="mute">
            <img id="mute__toggle" src="/images/speaker.png" onclick="changeIcon()">
        </div>
        <div class="hamburger-menu">
            <input id="menu__toggle" type="checkbox" />
            <label class="menu__btn" for="menu__toggle">
              <span></span>
            </label>
        
            <ul class="menu__box">
              <li><a class="menu__item" href="#" onclick="document.getElementById('lol').submit();">Home</a></li>
              <li><a class="menu__item" href="#" onclick="exit3();">Data</a></li>
              <li><a class="menu__item" href="#">Streaks</a></li>
            </ul>
        </div><br><br>

        <div id="box">
            <div id="welcome">
                <div id="w">
                    <div id="welc">Welcome Back!</div>
                </div>
                <div id="streak-container">
                    <div id="cur" name="cur">Current Streak<br><br>
                        <label id="lcur"></label>
                    </div>
                    <img id="imgh" src="/images/hiker.svg">
                    <div id="max">Max Streak<br><br>
                        <label id="lmax"></label>
                    </div>
                </div>
            </div>

            <div id="apps">
                <div class='row'>
                    <figure onclick='exit();'>
                        <img class="img" src='/images/water.png'>
                    </figure>
                    <figure onclick='exit2();'>
                        <img class="img" src='/images/frog.png'>
                    </figure>
                    <figure onclick='exit5();'>
                        <img class="img" src='/images/sleep icon.svg'>
                    </figure>
                </div>
                <div class='row'>
                    <figure onclick='exit6();'>
                        <img class="img" src='/images/worry icon-red.svg'>
                    </figure>
                    <figure onclick='exit4();'>
                        <img class="img" src='/images/nutrition icon2.svg'>
                    </figure>
                    <figure onclick='exit7();'>
                        <img class="img" src='/images/movement Icon.svg'>
                    </figure>
                </div>
            </div>

            <div id="map">
                <img id="hike" src="/images/Hike View 1.svg">
            </div>

            <div id="month">
                <header id="m" style="font-size:25px;text-align: center"></header>
                <div class="combo">
                    <span style="margin-left:10px;">Water</span>
                    <div class="inner">
                    </div>
                </div>
                <div class="combo">
                    <span style="margin-left:10px;">Frog</span>
                    <div class="inner">
                    </div>
                </div>
                <div class="combo">
                    <span style="margin-left:10px;">Sleep</span>
                    <div class="inner">
                    </div>
                </div>
                <div class="combo">
                    <span style="margin-left:10px;">Worry</span>
                    <div class="inner">
                    </div>
                </div>
                <div class="combo">
                    <span style="margin-left:10px;">Nutrition</span>
                    <div class="inner">
                    </div>
                </div>
                <div class="combo">
                    <span style="margin-left:10px;">Movement</span>
                    <div class="inner">
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        const days = ["S", "M", "T", "W", "T", "F", "S"];
        let today = new Date();
        let dates = [];
        let nums = [];
        for (let i = 0; i < 7; i++) {
            dates.push(days[today.getDay()]);
            nums.push(today.getDate());
            today.setDate(today.getDate() - 1);
        }
        dates.reverse();
        nums.reverse();

        let inners = document.getElementsByClassName("inner");
        for (let i = 0; i < inners.length; i++) {
            for (let j = 0; j < 7; j++) {
                inners[i].innerHTML += "<div>" + dates[j] + "</div>";
            }
        }
        for (let i = 0; i < inners.length; i++) {
            for (let j = 0; j < 7; j++) {
                inners[i].innerHTML += "<div class='n" + i + "'>" + nums[j] + "</div>";
            }
        }

        function setIcon(){
            $.ajax({
            type: "POST",
            url: "/getMuteStatus",
            dataType: "text",
            success: function(content){
                let muted = Number(content)
            }
            })
            
        }
        function changeIcon(){
            $.ajax({
            type: "POST",
            url: "/getMuteStatus",
            dataType: "text",
            success: function(content){
                let muted = Number(content)
            }
            })
            let image = document.getElementById("mute__toggle");
            if(muted){
                image.src = "/images/mute.png"

            }
            else{
                image.src = "/images/speaker.png"
            }
        }
    </script>
    <script type="text/javascript">
        const month = ["January","February","March","April","May","June","July","August","September","October","November","December"];
        var t = new Date();
        document.getElementById("m").innerHTML = month[t.getMonth()];
        var max = "";
        var cur = "";

        function run() {
            $.ajax({
                type: "POST",
                url: "/getMaxAndMin",
                dataType: "text",
                success: function (content) {
                    let gap = content.indexOf(" ");
                    cur = content.slice(0, gap);
                    max = content.slice(gap + 1);
                    document.getElementById("lcur").innerHTML = cur + " days";
                    document.getElementById("lmax").innerHTML = max + " days";
                }
            });
        }
        run();
    </script>
    <script type="text/javascript">
        function exit() {
            document.getElementById("form").submit();
        }
        function exit2() {
            document.getElementById("form2").submit();
        }
        function exit3() {
            document.getElementById("results").submit();
        }
        function exit4() {
            document.getElementById("form3").submit();
        }
        function exit5() {
            document.getElementById("form4").submit();
        }
        function exit6() {
            document.getElementById("form5").submit();
        }
        function exit7() {
            document.getElementById("form6").submit();
        }
    </script>
</html>